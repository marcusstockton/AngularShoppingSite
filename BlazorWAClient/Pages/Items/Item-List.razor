@page "/item-list"
@inject HttpClient Http

<div class="container">
    <h1>Items</h1>
    @if (response == null)
    {
        <p>Loading...</p>
    }
    else{
        foreach (var item in response)
        {
            <h5>@item.Name</h5>
            <p>@item.Title</p>
            <p>@item.Description</p>
            <p>@item.Price</p>
            <hr/>
        }
    }
</div>

@code {
    Item[] response;
    protected override async Task OnInitializedAsync()
    {
        response = await Http.GetJsonAsync<Item[]>("https://localhost:5001/api/Items");
    }

    public class Item{
        public string Id {get;set;}
        public string Name {get;set;}
        public string Title {get;set;}
        public string Description {get;set;}
        public decimal Price{get;set;}
    }
    
}